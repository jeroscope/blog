{{ define "main" }}
<article class="w-full advisories-single not-prose">
  <div class="mx-auto max-w-4xl px-6 py-16">
    <header class="advisory-header mb-12">
      <h1 class="advisory-title">{{ .Title }}</h1>
      <a href="/advisories/" class="back-link">‚Üê Back to Advisories</a>
    </header>

    <div class="advisory-panel">
      <div class="advisory-header-card">
        {{ with .Params.cve_number }}
        <div class="header-item">
          <span class="header-label">CVE Number</span>
          <span class="header-value">{{ . }}</span>
        </div>
        {{ end }}
        {{ with .Params.vendor }}
        <div class="header-item">
          <span class="header-label">Vendor</span>
          <span class="header-value">{{ . }}</span>
        </div>
        {{ end }}
        {{ with .Params.credit }}
        <div class="header-item">
          <span class="header-label">Credit</span>
          <span class="header-value">{{ . }}</span>
        </div>
        {{ end }}
      </div>

      {{ with .Params.description }}
      <section class="advisory-section">
        <h2>Description</h2>
        <p>{{ . }}</p>
      </section>
      {{ end }}

      {{ if .Content }}
      <section class="advisory-section">
        <h2>Details</h2>
        <div class="advisory-body-content">
          {{ .Content }}
        </div>
      </section>
      {{ end }}

      {{ with .Params.timeline }}
      <section class="advisory-section advisory-timeline">
        <h2>Timeline</h2>
        <div class="timeline-text">
          {{ range . }}
            <p><span class="timeline-date">{{ .date }}</span> - {{ .event }}</p>
          {{ end }}
        </div>
      </section>
      {{ end }}
    </div>
  </div>
</article>

<style>
.advisories-single{ padding-top:3rem; }

.advisory-header{ margin-bottom:3rem; }

.advisory-title{
  font-size:clamp(1.75rem, 4vw, 2.5rem);
  font-weight:700; color:#ffffff;
  margin-bottom:1.5rem; line-height:1.2;
}

.back-link{
  display:inline-flex; align-items:center; gap:.5rem;
  color:#a0a8c0; text-decoration:none;
  font-size:.9rem; transition: color .3s ease;
}
.back-link:hover{ color:rgb(96,165,250); }

.advisory-panel{
  background:rgba(23,27,38,.95);
  border:1px solid rgba(96,165,250,.18);
  box-shadow:0 25px 60px rgba(10,12,20,.45);
  border-radius:18px;
  padding:2.25rem 2.5rem;
  display:flex; flex-direction:column; gap:2rem;
}

.advisory-header-card{
  display:grid; gap:1rem; grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
}
.header-item{
  background:rgba(35,40,61,1);
  border:1px solid rgba(255,255,255,.08);
  border-radius:12px;
  padding:1rem 1.25rem;
}
.header-label{ display:block; font-size:.75rem; letter-spacing:.08em; text-transform:uppercase; color:#7d859d; font-weight:600; margin-bottom:.35rem; }
.header-value{ color:#e5e9f5; font-size:1.05rem; font-weight:600; }

.advisory-section{
  display:flex; flex-direction:column; gap:.75rem;
}
.advisory-section h2{ color:#ffffff; font-size:1.35rem; font-weight:700; margin:0; }
.advisory-section p{ color:#cbd5e1; margin:0; line-height:1.7; }
.advisory-body-content{ color:#cbd5e1; display:flex; flex-direction:column; gap:1rem; }
.advisory-body-content :is(h2,h3){ color:#ffffff; margin-top:1.5rem; font-weight:700; }

.advisory-body-content ul, .advisory-body-content ol{ padding-left:1.25rem; }
.advisory-body-content li{ margin-bottom:.5rem; }

.advisory-timeline .timeline-text p{
  margin:0 0 .4rem;
  color:#cbd5e1;
  line-height:1.6;
}
.timeline-date{ font-weight:600; color:rgb(96,165,250); }
</style>
{{ end }}

